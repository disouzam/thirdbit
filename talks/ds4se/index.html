---
title: "Software Design by Example: Lessons Learned"
layout: slides
---

<div class="center padtop">
  <h1>A Hard-Boiled Egg</h1>
  <p><img src="../img/codebender-logo.svg" alt="Third Bit logo" width="15%"></p>
  <p>Greg Wilson</p>
  <p><a href="http://third-bit.com/talks/ds4se/">http://third-bit.com/talks/ds4se/</a></p>
  <p><img src="../img/cc-by.svg" width="20%" alt="CC-BY"></p>
</div>

---

class: padtop

"You'd like Freedom, Truth, and Justice, wouldn't you, Comrade Sergeant?" said Reg encouragingly.

"I'd like a hard-boiled egg," said Vimes, shaking the match out.

There was some nervous laughter, but Reg looked offended. "In the circumstances, Sergeant, I think we should set our sights a little higher—"

"Well, yes, we could," said Vimes. "But…well, Reg, tomorrow the sun will come up again, and I'm pretty sure that whatever happens we won't have found Freedom, and there won't be a whole lot of Justice, and I'm damn sure we won't have found Truth. But it's just possible that I might get a hard-boiled egg."

— Sir Terry Pratchett, *Night Watch*

---

## What I'm Building On

<div align="center">
  <img src="./cheplygina.jpg" width="20%">
  <br>
  <a href="https://veronikach.com/">Veronika Cheplygina</a>
</div>

- *Weak failure:* I did a lot of work and nothing came of it

- *Strong failure:* I did a lot of work and actually did harm

- This talk is built on several weak failures

---

## Back in the Twentieth Century

<img src="./ddj.png" alt="Dr Dobb's Journal" class="center">

- Book review editor for *[Doctor Dobb's Journal](http://drdobbs.com)*

- There were hundreds of textbooks on compilers, but none on debuggers or debugging

- Or build tools, or package managers, or…

---

## Early 2000s

- Asked to teach a course on software architecture

- Looked at two dozen books and other people's courses…

- …but none described actual architectures

- This, we can fix

<div class="center">
  <a href="https://www.amazon.com/Beautiful-Code-Leading-Programmers-Practice/dp/0596510047/">
    <img src="../img/beautiful-code.png" alt="Beautiful Code" width="18%">
  </a>
  <a href="http://aosabook.org/en/#vol1"><img src="../img/aosa1.png" alt="AOSA Vol 1" width="18%"></a>
  <a href="http://aosabook.org/en/#vol2"><img src="../img/aosa2.png" alt="AOSA Vol 2" width="18%"></a>
  <a href="http://aosabook.org/en/#posa"><img src="../img/posa.png" alt="POSA" width="18%"></a>
  <a href="http://aosabook.org/en/#500lines"><img src="../img/500-lines.png" alt="500 Lines" width="18%"></a>
</div>

---

## Countervailing Currents

- Learning should always flow in both directions

- What do software engineering researchers *actually* know that practitioners might care about?

<a href="https://www.amazon.com/Making-Software-Really-Works-Believe/dp/0596808321/">
  <img src="../img/making-software.jpg" alt="Making Software" width="25%" class="center">
</a>

---

## Some Beautiful Truths

- [Languages in the C family are as hard to learn as a randomly-designed language](http://dl.acm.org/citation.cfm?id=2534973)

- [Students don't make the mistakes instructors think they make](https://kar.kent.ac.uk/46742/1/fp1187-altadmri.pdf)

- [No significant difference between test-driven and test-after development](http://people.brunel.ac.uk/~csstmms/FucciEtAl_ESEM2016.pdf)
  - But there *is* a difference between coarse-grained and fine-grained coding

---

## Some Beautiful Truths


- [Most catastrophic failures in distributed data-intensive systems could be prevented by performing simple testing on error handling code](https://www.usenix.org/system/files/conference/osdi14/osdi14-paper-yuan.pdf)

- [Git is awful because of the mis-match between users' mental models and its actual operation](https://dl.acm.org/citation.cfm?id=2984018)
  - Giving it a human-friendly face is ineffective

- [Computer science grades are not bimodal](http://www.cs.toronto.edu/~sme/papers/2016/icer_2016_bimodal.pdf)
  - I.e., there is no geek gene

---

## Weak Failures

- To first order, these books have had no impact

- We still don't teach science to CS students
  - Biologists spend 6 hours/week in the lab
  - CS students do one experiment in four years

<img src="./mad-scientist.png" width="30%" class="center">

---

## Weak Failures

<div align="center">
  <img src="../img/carpentries-logo.svg" width="80%">
</div>

- After teaching programming to scientists for 20 years, I've come to believe that science is a good thing

- And that statistics is going to be the math that puts the "engineering" in "software engineering"

- But *the curriculum is full*

- And *we ought to help everyone, not just CS majors*

---

## Measuring Things with Body Parts

<div class="row">
  <div class="col-6">
    <p align="center"><img src="./yard.gif"></p>
  </div>
  <div class="col-6">
    <p>thumb == inch </p>
    <p>arm == yard</p>
  </div>
</div>

- Measure this way in the US because everyone else does

- So what tools can we reasonably expect most potential learners to already know?

- Or to pick up in one bladder of hands-on instruction?


---

## Today's Choices

<div class="row">
  <div class="col-6 center">
    <img src="../img/spreadsheet.png" width="60%">
  </div>
  <div class="col-6">
    A functional reactive language<br>with an intuitive interface
  </div>
</div>

<div class="row">
  <div class="col-6">
<pre>
read_csv('infant-hiv.csv') %>%
  pmap_lgl(function(...) {
    x <- list(...)
    all(is.na(x) | (x == ""))
  }) %>%
  tibble(empty = .) %>%
  mutate(id = row_number()) %>%
  filter(empty) %>%
  pull(id)
</pre>
  </div>
  <div class="col-6">
    <p>
      A beautiful view<br>but a very steep hill
    </p>	    
  </div>
</div>

---

## A Tool That Just Works

<img src="./scratch-screenshot.jpg" width="100%" class="center">

---

## A Tool That Just Works

- Multiple studies have found that people learn programming and computational thinking faster using blocks than using text

<div class="row">
  <div class="col-6 center">
    <img src="./scratch-cat.png">
  </div>
  <div class="col-6">
    <ul>
      <li>Eliminates pointless syntax mistakes</li>
      <li>Obvious affordances suggest possibilities</li>
      <li>Plays well on touch-screen devices</li>
  </div>
</div>

---

## A Tool That Just Works

- Manipulating data is clumsy…
- …but doesn't have to be

<img src="./yahoo-pipes.jpg" width="70%" class="center">

---

## The Next Step Seemed Obvious

- **Build Scratch blocks for manipulating tabular data**
- [Blockly](https://developers.google.com/blockly/) provides the framework
- The [tidyverse](https://www.tidyverse.org/) defines the requirements

<img src="./tidyblocks.png" width="80%" class="center">

---

## But It Didn't Work

- [Blockly](https://developers.google.com/blockly/) is getting creaky
- No natural way to represent join operations with blocks
- [Node-RED](https://nodered.org/) solves both problems

<img src="./node-red.png" width="70%" class="center">

- But nobody was willing to fund the work

---

## The Future's So Bright…

<table>
  <caption>AP Student Numbers</caption>
  <tr><th>Subject</th><th align="right">2012</th><th align="right">2017</th></tr>
  <tr><td>Calculus</td><td align="right">361,000</td><td align="right">316,000</td></tr>
  <tr><td>Statistics</td><td align="right">153,000</td><td align="right">215,000</td></tr>
  <tr><td>Computer Science</td><td align="right">26,100</td><td align="right">44,000</td></tr>
</table>

- Statistics is an authentic task

- *For teachers as well as for students*

---

## Then We Teach Engineering

- "The use of the scientific method to analyze and design structures, devices, and systems."

- Require statistics rather than calculus for entry into CS

- Have students analyze software engineering data starting in their first year

---

## For Example

> Given source code for six software projects,
> determine whether long functions have more bugs than short ones.
	  
- Requires tool use, model building, and statistical analysis

- Students *do* science, so they *understand and value* it, so they *engage* with it later

- Fits into existing curriculum (implements IFirstYearMath)

- And is *culturally defensible*

---

## Then We Teach What Really Matters

<div align="center">
  <p>I no longer believe my generation will fix this
  <p><img src="./women-in-cs.jpg" alt="Women in CS" width="50%">
  <p class="fragment">So we need to raise up a generation that will
</div>

---

## This Is Also Software Engineering

> 1. People of East Asian or South Asian ancestry make up 8% of the
>    Canadian population, but 60-75% of undergraduates in Computer
>    Science at major universities.  Write two one-page papers to argue
>    pro and con that this proves people of European descent are
>    naturally less capable of abstract reasoning than their Asian
>    counterparts.
>
> 2. Compare and contrast your arguments with those made about
>    female under-representation in computing

---

## Thank You

<div class="center">
  <p><img src="../img/gvwilson.png" width="40%"></p>
  <p><a href="http://third-bit.com">Greg Wilson</a></p>
  <p><a href="mailto:gvwilson@third-bit.com">gvwilson@third-bit.com</a></p>
  <p><a href="http://third-bit.com/talks/ds4se/">http://third-bit.com/talks/ds4se/</a></p>
</div>
